/************************************************************************/
/* MIXED RULES                                                          */
/************************************************************************/
a,
button,
input[type="file"],
::file-selector-button {
  cursor: pointer;
}

dialog,
button,
input[type="text"],
input[type="email"],
input[type="number"],
input[type="file"],
input[type="checkbox"][role="switch"],
input[type="search"],
textarea,
select,
progress,
.ht-circle,
.ht-card,
.ht-button {
  border: var(--border-thickness, 1px) solid
    var(--border-color, var(--ht-color-gray-1));
}

input[type="text"],
input[type="email"],
input[type="number"],
input[type="file"],
input[type="search"],
textarea,
select,
dialog,
.ht-card,
.ht-toast {
  border-radius: var(--radius-2);
}

dialog,
button,
.ht-toast,
.ht-button,
.ht-container {
  padding: var(--padding-block, 1rem) var(--padding-inline, 2rem);
}

.ht-circle,
.ht-number-indicator {
  border-radius: var(--radius-round);
  aspect-ratio: 1;
}

/************************************************************************/
/* LINKS                                                                */
/************************************************************************/
a.ht-reset,
a.ht-reset:hover,
a.ht-reset:active,
a.ht-reset:visited {
  color: var(--color, inherit);
  text-decoration: none;
  cursor: pointer;
}

a {
  color: var(--ht-color-accent);
  text-decoration: none;
  transition: color 100ms ease-in;

  &:hover {
    text-decoration: underline;
  }

  &:active,
  &:visited {
    color: var(--violet-3);
  }
}

/************************************************************************/
/* LISTS                                                                */
/************************************************************************/
ul,
ol {
  padding: 0;
  margin: 0;
  margin-left: 2em;
}

ol.ht-reset,
ul.ht-reset {
  padding: 0;
  margin: 0;
  list-style: none;
}

/************************************************************************/
/* MODAL                                                                */
/************************************************************************/
dialog {
  margin: auto;
  background-color: var(--ht-surface-1);

  &::backdrop {
    background: rgba(0, 0, 0, 0.8);
  }
}

/************************************************************************/
/* BUTTONS                                                              */
/************************************************************************/

button.ht-reset,
button.ht-reset:hover,
button.ht-reset:active {
  border: none;
  background-color: transparent;
  text-decoration: none;
  padding: 0;
  color: var(--color, inherit);
}

button,
a.ht-button {
  --_color: var(--color, var(--ht-color-primary));

  --border-thickness: 2px;
  --border-color: var(--_color);
  border-radius: var(--radius-5);

  display: inline-block;

  text-decoration: none;
  background-color: var(--_color);

  font-size: var(--font-size, inherit);

  color: white;
  text-align: center;
  vertical-align: middle;

  transition:
    background-color 200ms ease-in,
    border-color 200ms ease-in,
    color 200ms ease-in;

  &:hover,
  &:active {
    --_color: var(--ht-color-primary-lighter);
  }

  &[data-type="secondary"] {
    --_color: var(--ht-color-secondary);

    &:hover,
    &:active {
      --_color: var(--ht-color-secondary-lighter);
    }
  }

  &[data-type="ghost"] {
    background-color: transparent;
    --_color: var(--ht-color-tertiary);
    color: var(--ht-color-tertiary);

    &:hover,
    &:active {
      color: white;
      background-color: var(--ht-color-tertiary);
    }
  }
}

/************************************************************************/
/* INPUTS                                                               */
/************************************************************************/

input[type="checkbox"],
input[type="radio"],
progress {
  --_color: var(--color, var(--ht-color-accent));
}

///////////////////////////////////////////////
// TEXT INPUT
input[type="text"],
input[type="email"],
input[type="number"],
input[type="file"],
input[type="search"],
textarea,
select {
  background-color: var(--ht-color-gray-2);
  padding: var(--size-2);

  outline: none;
  min-height: 3rem;

  color: var(--ht-text-color-1);

  &::placeholder {
    color: var(--ht-color-gray-3);
  }

  &:focus {
    --border-color: var(--ht-color-primary);
  }

  &[aria-invalid="true"] {
    --border-color: var(--ht-color-red);
  }
}

input[type="file"] {
  &::file-selector-button {
    border: none;
    color: white;
    background-color: var(--ht-color-primary);
    padding: 0.5em 1em;
    border-radius: var(--radius-2);
  }
}

textarea {
  min-height: 5rem;
  resize: vertical;
}

select {
  padding-block: calc(1rem- 4px); //to make it identical to other input heights
}

///////////////////////////////////////////////
// CHECKBOX AND RADIO
input[type='checkbox'],
input[type="radio"] {
  --input-control-size: var(--font-size-4);

  accent-color: var(--_color);
  height: var(--input-control-size);
  aspect-ratio: 1 / 1;

  &,
  & + label {
    cursor: pointer;
    vertical-align: middle;
  }
}

.ht-radiogroup {
  display: flex;
  gap: var(--size-5);

  @media only screen and (max-width: 50rem) {
    flex-direction: column;
  }
}

///////////////////////////////////////////////
// TOGGLE SWITCH
input[type="checkbox"][role="switch"] {
  appearance: none;
  width: 3rem;

  --border-color: var(--_color);

  border-radius: 20rem;
  position: relative;

  &:after {
    content: "";
    position: absolute;
    left: 0.12rem;
    top: 0.12rem;
    height: calc(var(--input-control-size) - 6px);
    aspect-ratio: 1 / 1;
    border-radius: var(--radius-round);
    background-color: var(--_color);
    transition: transform 0.2s ease;
  }

  &:checked:after {
    transform: translate(1.5rem);
  }
}

///////////////////////////////////////////////
// PROGRESS INPUT
progress {
  appearance: none;
  border-radius: var(--radius-round);
  background-color: transparent;

  --border-color: var(--_color);

  height: 0.6rem;
  width: var(--width, 100%);

  // NOTE: do not group this selectors, otherwise they stop working
  &::-moz-progress-bar {
    background-color: var(--_color);
    border-radius: var(--radius-round);
  }

  &::-webkit-progress-bar {
    background-color: transparent;
  }

  &::-webkit-progress-value {
    background-color: var(--_color);
  }
}

/************************************************************************/
/* TOAST                                                                */
/************************************************************************/
.ht-toast {
  background-color: var(--ht-color-green);
  color: white;
  position: relative;

  z-index: var(--layer-1);

  & > p {
    height: 5rem;
    overflow: scroll;
  }

  & > h2 {
    font-size: var(--font-size-4);
    font-weight: bold;
    line-height: var(--font-lineheight-1);
    margin-bottom: var(--size-2);
  }

  & > button {
    width: 17px;

    position: absolute;
    right: .5em;
    top: 1em;

    &:before,
    &:after {
      position: absolute;
      left: 0px;
      top: 0px;
      content: "";
      height: 17px;
      width: 4px;
      background-color: white;
    }
    &:before {
      transform: rotate(45deg);
    }
    &:after {
      transform: rotate(-45deg);
    }
  }

  &[data-type="error"] {
    background-color: var(--ht-color-red);
  }
}

/************************************************************************/
/* INDICATORS                                                           */
/************************************************************************/
.ht-number-indicator {
  display: grid;
  place-items: center;

  border-width: 1px;
  border-style: solid;
  border-color: var(--border-color, var(--ht-color-primary));

  color: var(--text-color, var(--ht-color-primary));

  background-color: var(--background-color, transparent);

  width: var(--size, 3rem);

  &[aria-current="step"],
  &[aria-current="true"],
  &[aria-current="page"],
  &.completed {
    --background-color: var(--ht-color-primary);
    --text-color: white;
  }

  &[aria-disabled="true"],
  &.disabled {
    cursor: not-allowed;
    --border-color: var(--ht-color-gray-1);
    --text-color: var(--ht-color-gray-1);
  }
}
